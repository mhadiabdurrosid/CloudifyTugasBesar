FROM dunglas/frankenphp:1.2-php8.3

# Install required PHP extensions
RUN install-php-extensions mysqli pdo pdo_mysql

# Copy application files
COPY . /app/public

# Set working directory
WORKDIR /app/public

# Expose port (FrankenPHP will handle this)
EXPOSE 80

# Start FrankenPHP
CMD ["frankenphp", "run", "--config", "/etc/caddy/Caddyfile"]
